---
import { Transition } from "./Transition";
import ProfileImage from "./profileImage.astro";
import Socials from "./Socials.astro";

interface Props {
  showNav?: boolean;
  navRefId: string;
}

const { showNav, navRefId } = Astro.props;
---

<div class="pointer-events-none fixed inset-x-0 top-0 z-30 flex justify-center px-6 transition-all duration-300" id="navbar-container">
  <nav class="pointer-events-auto inline-flex items-center gap-6 rounded-full bg-gray-900/80 backdrop-blur-xl border border-white/10 shadow-lg shadow-black/30 px-6 py-3 transition-all duration-300 hover:border-white/20 hover:shadow-blue-500/20 mt-6" id="navbar">
    <ProfileImage size="small" />
    <span class="text-gray-500 cursor-not-allowed text-lg font-medium transition-all duration-300" title="Coming soon" id="blog-text">Blog</span>
    <div class="h-4 w-px bg-white/10"></div>
    <Socials />
  </nav>
</div>

<script>
  let lastScrollY = window.scrollY;
  const navbar = document.getElementById('navbar');
  const blogText = document.getElementById('blog-text');

  window.addEventListener('scroll', () => {
    const currentScrollY = window.scrollY;
    
    if (currentScrollY > 100) {
      // Shrink navbar when scrolled down
      navbar?.classList.add('py-2', 'px-4', 'gap-4', 'mt-3');
      navbar?.classList.remove('py-3', 'px-6', 'gap-6', 'mt-6');
      blogText?.classList.add('text-sm');
      blogText?.classList.remove('text-lg');
    } else {
      // Return to normal size at top
      navbar?.classList.add('py-3', 'px-6', 'gap-6', 'mt-6');
      navbar?.classList.remove('py-2', 'px-4', 'gap-4', 'mt-3');
      blogText?.classList.add('text-lg');
      blogText?.classList.remove('text-sm');
    }
    
    lastScrollY = currentScrollY;
  });
</script>